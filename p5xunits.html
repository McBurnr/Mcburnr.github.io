<html lang="en">
<head>
    <meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Persona 5: Phantom X - Wiki by McBurn</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Crimson+Text:wght@400;600&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Crimson Text', serif;
            background: #0a0a0a;
            color: #fff;
            overflow-x: hidden;
            min-height: 100vh;
        }

										/* If you're reading this then one of two things has happened! */
									/* 1. I made this open source, so now you can read all my fun comments! */
									/* 2. You reverse engineered the very basic html obsfucator....nice job! */
									/* This was a fun project, and I hope you're able to check out Najox's wiki! */
									/* They did a way better job than I could ever do, I just did this for fun! ;) */
															/* http://p5x.info/ */


.background {
    position: fixed;
    top: 0;
    left: 0;
    width: 200%;
    height: 100%;
    background-image: var(--background-image);
    background-repeat: repeat-x;
    background-size: auto 100%;
    animation: scrollBackground 30s linear infinite;
    z-index: -1;
    opacity: 0.3;
}

        @keyframes scrollBackground {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }

body {
    padding-top: 70px;
    transition: padding-top 0.5s ease-in-out;
}

body.header-retracted {
   padding-top: 90px;
}




.header {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    background: linear-gradient(135deg, var(--gradient-primary), rgba(20, 20, 20, 0.95));
    box-shadow: 0 4px 20px var(--shadow-color-light);
    z-index: 50;
    transition: all 0.5s ease-in-out;
}

#header-content-wrapper {
    display: grid;
    grid-template-columns: auto 1fr auto;
    align-items: end;
    width: 100%;
    gap: 1.5rem; /* I shop at THE GAP I got it at THE GAP */
}


#header-info {
    flex-shrink: 0;
}
#header-links {
    flex-shrink: 0;
}

.header-link-btn {
    display: inline-block;
    padding: 0.5rem 0.8rem;
    background-color: var(--primary-color);
    color: white;
    text-decoration: none;
    border-radius: 15px;
    font-family: 'Cinzel', serif;
    font-weight: 600;
    font-size: 0.8rem;
    transition: all 0.3s ease;
    white-space: nowrap;
}

.header-link-btn:hover {
    background-color: var(--primary-color-dark);
    transform: translateY(-2px);
}

.search-container {
    max-width: 800px;
    width: 100%;
    position: relative;
}

#header-info, #header-links {
    transition: all 0.4s ease-in-out;
}

.header.retracted #header-info,
.header.retracted #header-links {
    opacity: 0;
    width: 0;
    overflow: hidden;
    margin: 0;
    padding: 0;
    white-space: nowrap;
}

.header.retracted #header-content-wrapper {
     grid-template-columns: 0 1fr 0;
     gap: 0;
}



.header.retracted #toggleHeaderBtn svg {
    transform: rotate(180deg);
}

.header h1 {
    font-family: 'Cinzel', serif;
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--primary-color);
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
    margin-bottom: 0.1rem; /* ARE YOU A [BIG SHOT]? WELL, ARE YOU [ADOLESCENT CREATURE]?! */
}

.header p {
    font-size: 1rem;
    color: #ccc;
    font-weight: 600;
}

		.character-grid {
		display: grid;
		grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
		gap: 1.5rem;
		padding: 2rem;
		max-width: 1400px;
		margin: 0 auto;
}

        .character-card {
            position: relative;
            border-radius: 15px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.6s ease;
            background: linear-gradient(135deg, rgba(20, 20, 20, 0.8), rgba(40, 40, 40, 0.8));
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
        }

        .character-card:hover {
            transform: translateY(-10px) scale(1.05);
            box-shadow: 0 15px 35px var(--shadow-color-medium);
        }

			.character-portrait {
			width: 100%;
			height: 200px;
			object-fit: cover;
			transition: all 0.3s ease;
}

        .character-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to bottom, transparent 60%, var(--gradient-primary));
            opacity: 0;
            transition: all 0.3s ease;
            display: flex;
            align-items: flex-end;
            padding: 1rem;
            border: 3px solid transparent;
            border-radius: 15px;
        }

        .character-card:hover .character-overlay {
            opacity: 1;
            border-color: var(--primary-color);
        }

        .character-name {
            font-family: 'Cinzel', serif;
            font-size: 1.1rem;
            font-weight: 600;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
            text-align: center;
            width: 100%;
        }

        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .modal.show {
            display: flex;
            opacity: 1;
        }

        .modal-content {
            background: linear-gradient(135deg, rgba(20, 20, 20, 0.95), rgba(40, 40, 40, 0.95));
            border: 2px solid var(--primary-color);
            border-radius: 20px;
            max-width: 90%;
            max-height: 90%;
            width: 800px;
            height: 600px;
            display: flex;
            flex-direction: column;
            box-shadow: 0 20px 50px var(--shadow-color-light);
            backdrop-filter: blur(10px);
        }

        .modal-header {
            padding: 1.5rem;
            border-bottom: 2px solid var(--primary-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: linear-gradient(135deg, rgba(139, 0, 0, 0.2), rgba(60, 60, 60, 0.2));
            border-radius: 18px 18px 0 0;
        }

        .modal-title {
            font-family: 'Cinzel', serif;
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-color);
        }

        .close-btn {
            background: var(--primary-color);
            border: none;
            color: white;
            font-size: 1.5rem;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .close-btn:hover {
            background: var(--primary-color-dark);
            transform: scale(1.1);
        }

/* Region Switcher, pain in the ass */
#modalHeaderControls {
    display: flex;
    align-items: center;
    gap: 1rem;
}

#regionSwitcher {
    background-color: rgba(0, 0, 0, 0.4);
    border: 2px solid #888;
    border-radius: 20px;
    color: #fff;
    cursor: pointer;
    display: flex;
    align-items: center;
    padding: 4px;
    transition: all 0.3s ease;
    font-family: 'Cinzel', serif;
    font-weight: bold;
    user-select: none;
}

#regionSwitcher:hover {
    border-color: var(--primary-color);
}

.region-text {
    padding: 0 10px;
    transition: color 0.3s ease;
    font-size: 0.9rem;
}

.switch-icon-container {
    width: 24px;
    height: 24px;
    position: relative;
}

.switch-icon {
    background-color: var(--primary-color);
    width: 24px;
    height: 24px;
    border-radius: 50%;
    position: absolute;
    left: 0;
    transition: all 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55); /* bouncy bouncy bouncy bouncy bouncy bouncy bouncy */
}

#regionSwitcher.global-active .global-text {
    color: var(--primary-color);
    text-shadow: 0 0 5px var(--primary-color);
}
#regionSwitcher.global-active .switch-icon {
    transform: translateX(-18px);
}

#regionSwitcher.asia-active .asia-text {
    color: var(--primary-color);
    text-shadow: 0 0 5px var(--primary-color);
}
#regionSwitcher.asia-active .switch-icon {
    transform: translateX(18px);
}

#globalFilterBtn {
    background-color: rgba(0, 0, 0, 0.4);
    border: 2px solid #888;
    border-radius: 20px;
    color: #fff;
    cursor: pointer;
    display: flex;
    align-items: center;
    padding: 4px;
    transition: all 0.3s ease;
    font-family: 'Cinzel', serif;
    font-weight: bold;
    user-select: none;
    margin-left: 1rem;
}

#globalFilterBtn:hover {
    border-color: var(--primary-color);
}

#globalFilterBtn .filter-text {
    padding: 0 10px;
    transition: color 0.3s ease;
    font-size: 0.9rem;
}

#globalFilterBtn .switch-icon-container {
    width: 24px;
    height: 24px;
    position: relative;
}

#globalFilterBtn .switch-icon {
    background-color: var(--primary-color);
    width: 24px;
    height: 24px;
    border-radius: 50%;
    position: absolute;
    left: 0;
    transition: all 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55);
}

#globalFilterBtn.all-active .all-text {
    color: var(--primary-color);
    text-shadow: 0 0 5px var(--primary-color);
}
#globalFilterBtn.all-active .switch-icon {
    transform: translateX(-20px);
}

#globalFilterBtn.global-active .global-text {
    color: var(--primary-color);
    text-shadow: 0 0 5px var(--primary-color);
}
#globalFilterBtn.global-active .switch-icon {
    transform: translateX(20px);
}

.tabs {
    display: flex;
    flex-wrap: wrap;
    border-bottom: 2px solid var(--primary-color);
    background: rgba(20, 20, 20, 0.3);
    padding-bottom: 0.5rem;
}

        .tab {
            padding: 1rem 1.5rem;
            background: transparent;
            border: none;
            color: #ccc;
            cursor: pointer;
            font-family: 'Cinzel', serif;
            font-size: 1rem;
            font-weight: 600;
            text-transform: capitalize;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
        }

        .tab:hover {
            color: var(--primary-color);
            background: rgba(139, 0, 0, 0.1);
        }

        .tab.active {
            color: var(--primary-color);
            border-bottom-color: var(--primary-color);
            background: rgba(139, 0, 0, 0.2);
        }

.tab-content {
    display: none;
    width: 100%;
    height: 100%;
    justify-content: center;
    align-items: center;
}
        .tab-content.active {
            display: flex;
        }

		.tab-image {
		width: 100%;
		height: 100%;
		object-fit: cover;
		border-radius: 10px;
		box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
		cursor: pointer;
		transition: all 0.3s ease;
}

        .tab-image:hover {
            transform: scale(1.02);
            box-shadow: 0 15px 40px var(--shadow-color-light);
        }

        .image-zoom-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            transition: opacity 0.3s ease;
            cursor: pointer;
        }

        .image-zoom-overlay.show {
            display: flex;
            opacity: 1;
        }

        .zoomed-image {
            max-width: 95%;
            max-height: 95%;
            object-fit: contain;
            border-radius: 10px;
            box-shadow: 0 20px 60px rgba(139, 0, 0, 0.5);
            transform: scale(0.8);
            transition: transform 0.3s ease;
        }

        .image-zoom-overlay.show .zoomed-image {
            transform: scale(1);
        }

        .zoom-close-hint {
            position: absolute;
            top: 2rem;
            right: 2rem;
            color: var(--primary-color);
            font-family: 'Cinzel', serif;
            font-size: 1.2rem;
            background: rgba(0, 0, 0, 0.7);
            padding: 0.5rem 1rem;
            border-radius: 25px;
            border: 2px solid var(--primary-color);
        }

        .loading {
            color: var(--primary-color);
            font-size: 1.2rem;
            text-align: center;
        }

#tabContentContainer {
    flex: 1;
    min-height: 0;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* 1. Cool cursor I found online */
* {
    cursor: url('p.png'), auto !important;
}

a,
button,
label,
input[type='checkbox'],
input[type='radio'],
input[type='submit'],
select,
[onclick],
.character-card,
.tab,
#toggleHeaderBtn,
.suggestion-item,
.patch-notes-btn,
.close-btn,
.tab-image,
.zoom-close-hint {
    cursor: url('p.png'), pointer !important;
}


/* Improvements for viewing characters on mobile cuz I like breaking things on mobile for some reason */
.character-card {
    touch-action: manipulation;
    -webkit-tap-highlight-color: var(--shadow-color-light);
}

.tab, .close-btn, .patch-notes-btn {
    touch-action: manipulation;
    -webkit-tap-highlight-color: var(--shadow-color-light);
    min-height: 44px; /* Fix for iOS I had to lookup since I don't own an iPhone */
}

.tab-image {
    touch-action: manipulation;
}

.modal-content, .patch-notes-content {
    touch-action: pan-y pinch-zoom;
}

.patch-notes-body, .tab-content {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
}

.search-container {
    position: relative;
    max-width: 600px;
    margin: 0 auto;
    display: flex;
}

#searchInput {
    width: 100%;
    padding: 12px 20px;
    font-size: 1rem;
    font-family: 'Crimson Text', serif;
    color: #fff;
    background-color: #121212;
    border: 1px solid #303030;
    border-right: none;
    border-radius: 40px 0 0 40px;
    outline: none;
    transition: border-color 0.3s ease;
}

#searchInput:focus {
    border-color: var(--primary-color);
}

#searchButton {
    width: 65px;
    border: 1px solid #303030;
    background-color: #222;
    color: #fff;
    cursor: pointer;
    border-radius: 0 40px 40px 0;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.3s ease;
}

#searchButton:hover {
    background-color: #333;
}

#suggestionsContainer {
    position: absolute;
    top: calc(100% + 2px);
    left: 0;
    right: 65px;
    background-color: #121212;
    border: 1px solid #303030;
    border-top: none;
    border-radius: 0 0 10px 10px;
    max-height: 300px;
    overflow-y: auto;
    z-index: 10;
    display: none;
}

.suggestion-item {
    padding: 12px 20px;
    color: #fff;
    cursor: pointer;
    font-family: 'Crimson Text', serif;
    font-size: 1rem;
}

.suggestion-item:hover {
    background-color: #333;
}

#clearSearchBtn {
    position: absolute;
    right: 75px; 
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: none;
    color: #9e9e9e;
    cursor: pointer;
    padding: 5px;
    line-height: 0;
    transition: color 0.2s ease;
}

#clearSearchBtn:hover {
    color: #fff;
}

.menu-toggle {
    position: fixed;
    top: 20px;
    left: 20px;
    background: transparent;
    border: none;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    justify-content: space-around;
    width: 30px;
    height: 24px;
    padding: 0;
    z-index: 1100;
}

.menu-toggle span {
    width: 100%;
    height: 3px;
    background: #fff;
    border-radius: 2px;
    transition: all 0.3s ease-in-out;
}

.menu-toggle.open {
    left: 290px;
}

.menu-toggle.open span:nth-child(1) {
    transform: rotate(45deg) translate(7px, 7px);
}

.menu-toggle.open span:nth-child(2) {
    opacity: 0;
}

.menu-toggle.open span:nth-child(3) {
    transform: rotate(-45deg) translate(7px, -7px);
}

.collapsible-sidebar {
    position: fixed;
    top: 0;
    left: 0;
    width: 280px;
    height: 100vh;
    background: #1a1a1a url('https://cdn.imgchest.com/files/p7bwcnq5gq7.png') no-repeat center center;
    background-size: cover;
    z-index: 1000;
    transform: translateX(-100%);
    transition: transform 0.3s ease-in-out;
    display: flex;
    flex-direction: column;
    border-right: 2px solid var(--primary-color);
}

.collapsible-sidebar.open {
    transform: translateX(0);
}

.sidebar-header {
    padding: 1.25rem;
    display: flex;
    align-items: center;
    gap: 1rem;
    background: rgba(0,0,0,0.5);
    border-bottom: 1px solid var(--shadow-color-medium);
}

.sidebar-logo {
    width: 50px;
    height: 50px;
}

.sidebar-title {
    font-family: 'Cinzel', serif;
    font-size: 1.5rem;
    color: #fff;
}

.sidebar-nav {
    display: flex;
    flex-direction: column;
    padding: 1rem;
    gap: 0.5rem;
}

.sidebar-nav .guide-card {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: flex-start;
    padding: 0.75rem 1rem;
    gap: 1rem;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    background: rgba(30,30,30,0.5);
    border: 2px solid var(--shadow-color-light);
    text-decoration: none;
    color: #fff;
}

.sidebar-nav .guide-card:hover {
    transform: translateX(-5px);
    border-color: var(--primary-color);
    background: rgba(50,50,50,0.7);
}
.sidebar-nav .guide-card-icon {
    width: 35px;
    height: 35px;
    margin-bottom: 0;
}

.sidebar-nav .guide-card-name {
    font-size: 1.1rem;
    text-align: left;
}

.main-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.6);
    z-index: 999;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
}

.main-overlay.show {
    opacity: 1;
    visibility: visible;
}

body.sidebar-open .site-wrapper {
    margin-left: 280px;
    transition: margin-left 0.3s ease-in-out;
}
.main-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.6);
    z-index: 999;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
}

.main-overlay.show {
    opacity: 1;
    visibility: visible;
}

body.sidebar-open .header,
body.sidebar-open .character-grid {
    margin-right: 280px;
    margin-left: 0;
    transition: margin-right 0.3s ease-in-out;
}

body.sidebar-open .header {
    width: calc(100% - 280px);
}

.sidebar-nav a.guide-card::after {
    content: attr(data-preview);
    position: absolute;
    bottom: 105%;
    left: 50%;
    transform: translateX(-50%);
    background-color: rgba(0, 0, 0, 0.9);
    color: #fff;
    padding: 0.5rem 1rem;
    border-radius: 6px;
    font-size: 0.85rem;
    font-family: 'Crimson Text', serif;
    white-space: nowrap;
    z-index: 10;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, bottom 0.3s ease;
    pointer-events: none;
}

.sidebar-nav a.guide-card:hover::after {
    opacity: 1;
    visibility: visible;
    bottom: 100%;
    margin-bottom: 5px;
}

@media (max-width: 768px) {

body.sidebar-open .header,
body.sidebar-open .character-grid {
    margin-left: 0;
    width: 100%;
}

body.sidebar-open {
    overflow: hidden;
}

.menu-toggle.open {
    left: 20px;
}

body {
    padding-top: 290px; /* Some more padding so that the character grid is pushed down more and won't be covered by the title bar */
}
.header {
    padding: 0.75rem;
}

/* Mobile fix, had to switch the header grid to a single, stacked column to avoid covering the first grid of characters */
#header-content-wrapper {
    grid-template-columns: 1fr;
    gap: 0.75rem;
    align-items: center;
}

#header-info {
    text-align: center;
    padding-bottom: 0;
}

/* Had to wrap the buttons to the center */
#header-links {
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: center;
    align-items: center;
}

/* The search suggestions were completely broken on mobile, so had to span it to the full width */
#suggestionsContainer {
    right: 0;
    left: 0;
    max-width: 100%;
}
    .header h1 { 
        font-size: 2rem; 
    }
    
    .header p {
        font-size: 1rem;
    }
    
    .character-grid { 
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); 
        gap: 1rem; 
        padding: 1rem; 
    }
    
    .character-card {
        border-radius: 10px;
    }
    
    .character-portrait {
        height: 200px;
    }
    
    .character-name {
        font-size: 0.9rem;
    }
    
.modal-content {
    width: 95%;
    height: auto;
    max-height: 90vh;
    margin: auto;
    border-radius: 15px;
}
    
    .modal-header {
        padding: 1rem;
        border-radius: 13px 13px 0 0;
    }
    
    .modal-title {
        font-size: 1.2rem;
    }
    
    .close-btn {
        width: 35px;
        height: 35px;
        font-size: 1.2rem;
    }
    
    .tabs { 
        flex-wrap: wrap; 
        justify-content: center;
    }
    
    .tab { 
    padding: 0.7rem 1rem;
    font-size: 0.85rem;
    min-width: 80px;
    text-align: center;
    }
    
    .tab-content {
        padding: 1rem;
    }
    
    .tab-image {
        max-width: 100%;
        height: auto;
        object-fit: contain;
    }
    
    .patch-notes-btn {
        top: 1rem;
        right: 1rem;
        padding: 0.6rem 1rem;
        font-size: 0.8rem;
    }
    
    .patch-notes-content {
        width: 95%;
        max-height: 85%;
        margin: 2.5% auto;
    }
    
    .patch-notes-body {
        padding: 1.5rem;
    }
    
    .patch-version {
        font-size: 1.1rem;
    }
    
    .zoom-close-hint {
        top: 1rem;
        right: 1rem;
        font-size: 1rem;
        padding: 0.4rem 0.8rem;
    }
}

/* Adds support for smol baby screens */
@media (max-width: 480px) {
    .header {
        padding: 1.5rem 0;
    }
    
    .header h1 {
        font-size: 1.8rem;
    }
    
    .character-grid {
        grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
        gap: 0.8rem;
        padding: 0.8rem;
    }
    
    .character-portrait {
        height: 160px;
    }
    
    .character-name {
        font-size: 0.8rem;
    }
    
    .modal-content {
        width: 98%;
        height: 90%;
        margin: 5% auto;
    }
    
    .modal-header {
        padding: 0.8rem;
    }
    
    .modal-title {
        font-size: 1.1rem;
    }
    
    .tab {
        padding: 0.6rem 0.8rem;
        font-size: 0.8rem;
        min-width: 70px;
    }
    
    .tab-content {
        padding: 0.8rem;
    }
    
    .patch-notes-btn {
        padding: 14.5rem 0.8rem;
        font-size: 0.75rem;
    }
    
    .patch-notes-body {
        padding: 1rem;
    }
    
    .patch-version {
        font-size: 1rem;
    }
    
    .patch-date {
        font-size: 0.9rem;
    }
    
    .patch-list li {
        font-size: 0.9rem;
        margin-bottom: 0.6rem;
    }
}

.patch-notes-btn {
    background: transparent;
    border: 2px solid var(--primary-color);
    color: #fff;
    padding: 0.6rem 1rem;
    border-radius: 20px;
    cursor: pointer;
    font-family: 'Cinzel', serif;
    font-size: 0.9rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.3s ease;
    white-space: nowrap;
}

.patch-notes-btn:hover {
    background: var(--primary-color);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px var(--shadow-color-medium);
}

.patch-notes-btn span {
    font-size: 1rem;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.8));
}

.patch-notes-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 1500;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.patch-notes-modal.show {
    display: flex;
    opacity: 1;
}

.patch-notes-content {
    background: linear-gradient(135deg, rgba(20, 20, 20, 0.95), rgba(40, 40, 40, 0.95));
    border: 2px solid var(--primary-color);
    border-radius: 20px;
    max-width: 90%;
    max-height: 80%;
    width: 700px;
    display: flex;
    flex-direction: column;
    box-shadow: 0 20px 50px var(--shadow-color-light);
    backdrop-filter: blur(10px);
}

.patch-notes-body {
    flex: 1;
    padding: 2rem;
    overflow-y: auto;
    scrollbar-width: thin;
    scrollbar-color: var(--primary-color) rgba(40, 40, 40, 0.3);
}

.patch-notes-body::-webkit-scrollbar {
    width: 8px;
}

.patch-notes-body::-webkit-scrollbar-track {
    background: rgba(40, 40, 40, 0.3);
    border-radius: 4px;
}

.patch-notes-body::-webkit-scrollbar-thumb {
    background: var(--primary-color);
    border-radius: 4px;
}

.patch-notes-body::-webkit-scrollbar-thumb:hover {
    background: var(--primary-color-dark);
}

.patch-entry {
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid var(--shadow-color-light);
}

.patch-entry:last-child {
    border-bottom: none;
    margin-bottom: 0;
}

.patch-version {
    font-family: 'Cinzel', serif;
    font-size: 1.3rem;
    font-weight: 600;
    color: var(--primary-color);
    margin-bottom: 0.5rem;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
}

.patch-date {
    font-size: 1rem;
    color: #ccc;
    margin-bottom: 1rem;
    font-style: italic;
}

.patch-list {
    list-style: none;
    padding: 0;
}

.patch-list li {
    position: relative;
    padding-left: 1.5rem;
    margin-bottom: 0.8rem;
    color: #fff;
    line-height: 1.6;
}

.patch-list li::before {
    content: "▸";
    position: absolute;
    left: 0;
    color: var(--primary-color);
    font-weight: bold;
    font-size: 1.1rem;
}

/* Fixing patch notes for mobile e.e */
@media (max-width: 768px) {
    .patch-notes-btn {
        top: 1rem;
        right: 1rem;
        padding: 0.6rem 1rem;
        font-size: 0.8rem;
    }
    
    .patch-notes-content {
        width: 95%;
        max-height: 85%;
    }
    
    .patch-notes-body {
        padding: 1.5rem;
    }
    
    .patch-version {
        font-size: 1.1rem;
    }
}

#customContextMenu {
    position: fixed;
    z-index: 3000;
    width: 280px;
    background: rgba(10, 10, 10, 0.9);
    border: 2px solid var(--primary-color);
    border-radius: 8px;
    box-shadow: 0 0 20px rgba(255, 68, 68, 0.4);
    backdrop-filter: blur(8px);
    padding: 6px;
    display: none;
    transform: scale(0.98);
    opacity: 0;
    transition: transform 0.1s ease-out, opacity 0.1s ease-out;
    font-family: 'Cinzel', serif;
}

#customContextMenu.active {
    display: block;
    transform: scale(1);
    opacity: 1;
}

.context-menu-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.context-menu-item {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 12px 20px;
    color: #f0f0f0;
    font-size: 1rem;
    font-weight: 600;
    transition: all 0.15s ease-in-out;
    position: relative;
    overflow: hidden;
}

.context-menu-item:hover {
    background-color: var(--primary-color);
    color: #fff;
    transform: translateX(8px);
    border-radius: 4px;
}

.context-menu-item .icon {
    width: 20px;
    height: 20px;
    filter: brightness(0) invert(1);
}

.context-menu-separator {
    height: 2px;
    background-color: var(--shadow-color-light);
    margin: 6px 15px;
}

/* The theme switcher was fun to do! If you want any others just let me know! */
:root {
    --primary-color: #ff0000;
    --primary-color-dark: #cc0000;
    --gradient-primary: rgba(255, 0, 0, 0.9);
    --shadow-color-light: rgba(255, 0, 0, 0.3);
    --shadow-color-medium: rgba(255, 0, 0, 0.4);
    --background-image: url('https://cdn.imgchest.com/files/4apc5o8wzq4.png'); /* Default Red/Joker Background */
}
body.theme-blue {
    --primary-color: #0055ff;
    --primary-color-dark: #0033cc;
    --gradient-primary: rgba(0, 85, 255, 0.9);
    --shadow-color-light: rgba(0, 85, 255, 0.3);
    --shadow-color-medium: rgba(0, 85, 255, 0.4);
    --background-image: url('https://cdn.imgchest.com/files/4jdcv9p3ko4.png');
}
body.theme-green {
    --primary-color: #00ff00;
    --primary-color-dark: #00cc00;
    --gradient-primary: rgba(0, 255, 0, 0.9);
    --shadow-color-light: rgba(0, 255, 0, 0.3);
    --shadow-color-medium: rgba(0, 255, 0, 0.4);
    --background-image: url('https://cdn.imgchest.com/files/4z9cvxpkq27.png');
}
body.theme-yellow {
    --primary-color: #ffdd00;
    --primary-color-dark: #ccb100;
    --gradient-primary: rgba(255, 221, 0, 0.9);
    --shadow-color-light: rgba(255, 221, 0, 0.3);
    --shadow-color-medium: rgba(255, 221, 0, 0.4);
    --background-image: url('https://cdn.imgchest.com/files/4z9cvxpkae7.png');
}
body.theme-pink {
    --primary-color: #ff5599;
    --primary-color-dark: #cc447a;
    --gradient-primary: rgba(255, 85, 153, 0.9);
    --shadow-color-light: rgba(255, 85, 153, 0.3);
    --shadow-color-medium: rgba(255, 85, 153, 0.4);
    --background-image: url('https://cdn.imgchest.com/files/7lxcp2o2j57.png');
}
body.theme-purple {
    --primary-color: #aa00ff;
    --primary-color-dark: #8800cc;
    --gradient-primary: rgba(170, 0, 255, 0.9);
    --shadow-color-light: rgba(170, 0, 255, 0.3);
    --shadow-color-medium: rgba(170, 0, 255, 0.4);
    --background-image: url('https://cdn.imgchest.com/files/49zc2o8owwy.png');
}

#themeSwitcherContainer {
    display: flex;
    gap: 8px;
    justify-content: flex-end;
    padding-top: 8px;
}
.theme-button {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    border: 2px solid #fff;
    cursor: pointer;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.theme-button:hover {
    transform: scale(1.15);
}
.theme-button.active {
    box-shadow: 0 0 10px 3px #fff;
    transform: scale(1.1);
}

#themeNotification {
    position: fixed;
    bottom: 25px;
    right: -100%;
    background: rgba(10, 10, 10, 0.9);
    color: #fff;
    padding: 15px 25px;
    border-radius: 10px;
    border-left: 5px solid var(--primary-color);
    box-shadow: 0 5px 20px var(--shadow-color-medium);
    z-index: 4000;
    transition: right 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    font-family: 'Crimson Text', serif;
    backdrop-filter: blur(8px);
    max-width: 400px;
}
#themeNotification.show {
    right: 25px; /* Slide to the left....now slide to the right!....now freeze!...criss cross! */
}
#notificationFlavorText {
    font-size: 1.1rem;
    font-style: italic;
    color: var(--primary-color);
    font-weight: bold;
    text-shadow: 0 0 5px var(--primary-color);
}
#notificationMainText {
    font-size: 1rem;
    margin-top: 5px;
}

#characterNotification {
    position: fixed;
    top: 120px;
    right: -100%;
    background: rgba(10, 10, 10, 0.9);
    color: #fff;
    padding: 15px 25px;
    border-radius: 10px;
    border-left: 5px solid var(--primary-color);
    box-shadow: 0 5px 20px var(--shadow-color-medium);
    z-index: 4000;
    transition: right 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    font-family: 'Crimson Text', serif;
    backdrop-filter: blur(8px);
    max-width: 400px;
    font-size: 1.1rem;
    font-style: italic;
    text-align: center;
}
#characterNotification.show {
    right: 25px; /* Slide in Slide Out Slide In Slide Out Slide In Slide Out */
}

#characterNotification a {
    color: var(--primary-color);
    text-decoration: underline;
    font-weight: bold;
    transition: color 0.2s ease;
}

#characterNotification a:hover {
    color: var(--primary-color-dark);
    text-decoration: none;
}

#outdatedWarningOverlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.75);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1001;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.5s ease, visibility 0.5s ease;
    pointer-events: none;
    border-radius: 20px;
}

#outdatedWarningOverlay.show {
    opacity: 1;
    visibility: visible;
}

.outdated-message {
    color: #ffc107; /* A nice warning before futaba kidnaps you */
    font-family: 'Cinzel', serif;
    font-size: 1.5rem;
    font-weight: bold;
    text-align: center;
    padding: 2rem;
    border: 3px dashed #ffc107;
    background: rgba(30, 20, 0, 0.5);
    border-radius: 15px;
    text-shadow: 1px 1px 5px #000;
    max-width: 80%;
}

.warning-icon {
    font-size: 2.5rem;
    display: block;
    margin-bottom: 0.5rem;
}

.small-text {
    display: block;
    font-size: 1rem;
    color: #fff;
    font-weight: normal;
    margin-top: 1rem;
    line-height: 1.4;
}

/* Why yes, most of this is in fact just css how did you know? */


#comingSoonOverlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(10, 20, 15, 0.75);
    backdrop-filter: blur(4px);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1002;
    border-radius: 20px;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
    cursor: pointer;
    pointer-events: none; /* The coming soon modal was so. damn. annoying. to code. but it was worth it! I think? */
}

#comingSoonOverlay.show {
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
}

.coming-soon-message {
    font-family: 'VT323', monospace; /* This was a cool font so I used it for the glitchy messages */
    color: #00ff00;
    text-align: center;
    padding: 2rem;
    border: 3px dashed #00ff00;
    background: rgba(0, 20, 0, 0.6);
    border-radius: 15px;
    max-width: 85%;
    text-shadow: 0 0 8px #00ff00;
}

.coming-soon-icon {
    max-width: 120px;
    height: auto;
    margin-bottom: 1rem;
}

/* Unfortunately have no idea who the original author is for that futaba gif if anyone finds out then let me know! */
.coming-soon-title {
    font-size: 2.2rem;
    font-weight: bold;
    letter-spacing: 3px;
    animation: glitch-subtle 3s infinite;
}

.character-card.coming-soon .character-overlay::after {
    content: '???';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) rotate(-15deg);
    background: #ffeb3b;
    color: #000;
    padding: 0.5rem 2rem;
    font-size: 1.5rem;
    font-weight: 700;
    text-align: center;
    border-radius: 5px;
    box-shadow: 0 0 15px #000;
    opacity: 0.9;
    letter-spacing: 2px;
}
/* Spooky dim effect */
.character-card.coming-soon .character-portrait {
    filter: brightness(0.6);
}

/* Kinda proud of myself for this one. Name scrambling sounded cool! */
.character-card.coming-soon .character-name {
    position: relative;
    animation: glitch-subtle 3s infinite steps(2, end);
}
@keyframes glitch-subtle {
    0% { text-shadow: 1px 0 0 red, -1px 0 0 cyan; }
    20% { text-shadow: 1px 0 0 red, -1px 0 0 cyan; }
    21% { text-shadow: -1px 0 0 red, 1px 0 0 cyan; }
    40% { text-shadow: -1px 0 0 red, 1px 0 0 cyan; }
    41% { text-shadow: 1px 0 0 red, -1px 0 0 cyan; }
    100% { text-shadow: 1px 0 0 red, -1px 0 0 cyan; }
}

@keyframes bounce {
    0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
    40% { transform: translateY(-30px); }
    60% { transform: translateY(-15px); }
}

/* WITNESS MY SCROLLBAR ARRIVAL, WORM! */

html {
    scrollbar-width: thin;
    scrollbar-color: var(--primary-color) rgba(40, 40, 40, 0.3);
}


html::-webkit-scrollbar {
    width: 10px;
}
html::-webkit-scrollbar-track {
    background: #0a0a0a;
}

/* This never worked ;( I tried changing the color of the scrollbar to no avail. If anyone has any tips please tell me ;-; */

/* Default Red Scrollbar */
html.theme-red::-webkit-scrollbar-thumb { background-color: #ff0000 !important; }
html.theme-red::-webkit-scrollbar-thumb:hover { background-color: #cc0000 !important; }

/* Fox Blue Scrollbar */
html.theme-blue::-webkit-scrollbar-thumb { background-color: #0055ff !important; }
html.theme-blue::-webkit-scrollbar-thumb:hover { background-color: #0033cc !important; }

/* Oracle Green Scrollbar */
html.theme-green::-webkit-scrollbar-thumb { background-color: #00ff00 !important; }
html.theme-green::-webkit-scrollbar-thumb:hover { background-color: #00cc00 !important; }

/* Skull Yellow Scrollbar */
html.theme-yellow::-webkit-scrollbar-thumb { background-color: #ffdd00 !important; }
html.theme-yellow::-webkit-scrollbar-thumb:hover { background-color: #ccb100 !important; }

/* Panther Pink Scrollbar */
html.theme-pink::-webkit-scrollbar-thumb { background-color: #ff5599 !important; }
html.theme-pink::-webkit-scrollbar-thumb:hover { background-color: #cc447a !important; }

/* Noir Purple Scrollbar */
html.theme-purple::-webkit-scrollbar-thumb { background-color: #aa00ff !important; }
html.theme-purple::-webkit-scrollbar-thumb:hover { background-color: #8800cc !important; }

    </style>
</head>
<body>
    <div class="background"></div>
    
<header class="header" id="mainHeader">
<button id="menu-toggle" class="menu-toggle">
    <span></span>
    <span></span>
    <span></span>
</button>
    <div id="header-content-wrapper">
        <!-- Column 1 -->
        <div id="header-info">
			<img src="https://hitscounter.dev/api/hit?url=https%3A%2F%2Fmcburnr.github.io%2Fp5xwiki.html&label=Phantom+Thieves&icon=globe&color=%23198754">
        </div>

        <!-- Column 2 -->
    <div class="search-container">
        <input type="text" id="searchInput" placeholder="Search for a character...">
    <button id="clearSearchBtn" aria-label="Clear search" style="display: none;">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
    </button>
        <div id="suggestionsContainer"></div>
        <button id="searchButton" aria-label="Search">
            <svg focusable="false" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor">
                <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
            </svg>
        </button>
					    <button id="globalFilterBtn" class="global-active">
        <span class="filter-text all-text">All</span>
        <span class="switch-icon-container">
            <span class="switch-icon"></span>
        </span>
        <span class="filter-text global-text">Global</span>
    </button>
    </div>

        <!-- Column Firth -->
        <div id="header-links">
            <button class="patch-notes-btn" id="patchNotesBtn">
                <span>📋</span>
                Patch Notes
            </button>
			<div id="themeSwitcherContainer">
                <!-- Just some filler. Carry on. -->
            </div>
        </div>
    </div>
</header>
<nav id="collapsible-sidebar" class="collapsible-sidebar">
    <div class="sidebar-header">
        <img src="https://cdn.imgchest.com/files/y8xcnkwlkb4.png" alt="Logo" class="sidebar-logo">
        <h3 class="sidebar-title">P5X Wiki</h3>
    </div>
    <nav class="sidebar-nav">
        <a href="https://mcburnr.github.io/p5xguides.html" class="guide-card" data-preview="Guides for gameplay, confidants, arcana cards, etc.">
            <img src="https://cdn.imgchest.com/files/4gdcx3vrow4.png" alt="Guides Icon" class="guide-card-icon">
            <div class="guide-card-name">Guides</div>
        </a>
    </nav>
</nav>
<div id="main-overlay" class="main-overlay"></div>

    <div class="character-grid" id="characterGrid">
    </div>

    <div class="modal" id="characterModal">
        <div class="modal-content">
<div class="modal-header">
    <h2 class="modal-title" id="modalTitle"></h2>
    
    <!-- You see this container? It holds our buttons so they don't try to go on strike. We're Anti-Union, y'know? -->
    <div id="modalHeaderControls">
        <button id="regionSwitcher" style="display: none;">
            <span class="region-text global-text">GLB</span>
            <span class="switch-icon-container">
                <span class="switch-icon"></span>
            </span>
            <span class="region-text asia-text">SEA</span>
        </button>
        <button class="close-btn" id="closeBtn">&times;</button>
    </div>
</div>
            <div class="tabs" id="tabsContainer"></div>
            <div class="tab-content-container" id="tabContentContainer"></div>
        </div>
		    <div id="outdatedWarningOverlay">
        <div class="outdated-message">
            <span class="warning-icon">⚠️</span>
            This Guide is currently OUTDATED!
            <p class="small-text">
                The Information shown is not up to date. A new guide is being worked on, so stay tuned!
            </p>
        </div>
    </div>

<div id="comingSoonOverlay">
    <div class="coming-soon-message">
        <img src="https://cdn.imgchest.com/files/7mmc95wk5a7.png" alt="Coming Soon" class="coming-soon-icon">
        <div class="coming-soon-title">DATA LOCKED</div>
        <p class="small-text">
            Heh, not so fast! I'm still processing this corrupt data. Try again later!
        </p>
    </div>
</div>
    </div>

    <div class="image-zoom-overlay" id="imageZoomOverlay">
        <img class="zoomed-image" id="zoomedImage" src="" alt="">
    </div>


<!-- Patch Notes because...why not? idk. I could have just done some github notes but I like how it looks on the page! -->
<div class="patch-notes-modal" id="patchNotesModal">
    <div class="patch-notes-content">
        <div class="modal-header">
            <h2 class="modal-title">Patch Notes</h2>
            <button class="close-btn" id="closePatchNotesBtn">&times;</button>
        </div>
        <div class="patch-notes-body">

            <div class="patch-entry">
                <h3 class="patch-version">1.1.0</h3>
                <p class="patch-date"> — 6/27/2025 12:56 PM</p>
                <ul class="patch-list">
                    <li>Added a global/sea region switcher button for global-specific or sea-specific guides</li>
                    <li>Considering hiding the wiki characters to prevent spoilers, what do you think?</li>
                </ul>
            </div>

            <div class="patch-entry">
                <h3 class="patch-version">1.0.9F</h3>
                <p class="patch-date"> — 6/21/2025 12:24 PM</p>
                <ul class="patch-list">
                    <li>Fixed the tabs not wrapping correctly on mobile</li>
                    <li>Adjusted the notifications for outdated guides, so they only show for 2 seconds instead of 5.</li>
					<li>Adjusted the images in the tabs so they are shown as much as possible. If it's cut off just tap or click on it.</li>
                    <li>How many fixes does it take to get to the center of a lollipop? A lot, with this guy. - F</li>
                </ul>
            </div>

            <div class="patch-entry">
                <h3 class="patch-version">1.0.9</h3>
                <p class="patch-date"> — 6/20/2025 1:34 AM</p>
                <ul class="patch-list">
                    <li>Added an Outdated Guide function for guides that contain old information or haven't been updated in a long while</li>
                    <li>The website now auto-updates the guides! Information is data-streamed using the discord api on the Worldwide Server.</li>
					<li>Data Pulls are done every 24 hours and must be manually processed just in case the data contains errors or otherwise.</li>
					<li>Adjusted the image load times again.</li>
                    <li>What? You expect me to comment on EVERY single update? - F</li>
                </ul>
            </div>


            <div class="patch-entry">
                <h3 class="patch-version">1.0.8</h3>
                <p class="patch-date"> — 6/19/2025 11:55 PM</p>
                <ul class="patch-list">
                    <li>Fixed the titlebar on mobile so it no longer blocks the first row of units</li>
                    <li>Fixed the sizing of the character viewer so it does not cover the entire vertical space</li>
					<li>Changed the titlebar orientation on mobile so it looks nicer</li>
					<li>Fixed an issue where the webpage would randomly fill the page with chinese characters</li>
                    <li>This was due to poor implementation of the script that loads the page content</li>
                    <li>It took you EIGHT updates to fix the mobile layout? - F</li>
                </ul>
            </div>

            <div class="patch-entry">
                <h3 class="patch-version">1.0.7</h3>
                <p class="patch-date"> — 6/19/2025 2:54 AM</p>
                <ul class="patch-list">
                    <li>Removed the collapsable button and transitions</li>
                    <li>Redesigned the title menu to be more compact</li>
					<li>Removed the Join Server button since it's redundant</li>
					<li>Stole youtube's searchbar aesthetic and also added a clear button</li>
                    <li>Fixed the character tabs going off the screen</li>
                    <li>Only took you 7 updates to fix that... - F</li>
                </ul>
            </div>


            <div class="patch-entry">
                <h3 class="patch-version">1.0.6</h3>
                <p class="patch-date"> — 6/18/2025 4:11 PM</p>
                <ul class="patch-list">
                    <li>Added Theme Switcher (the colored circles to your right)</li>
                    <li>Improved the image loading times (I hope)</li>
                    <li>Added a secret</li>
                    <li>Hehe... - F</li>
                </ul>
            </div>


            <div class="patch-entry">
                <h3 class="patch-version">1.0.5</h3>
                <p class="patch-date"> — 6/15/2025 1:19 PM</p>
                <ul class="patch-list">
                    <li>Added Custom Context Menu (PC)</li>
                    <li>Added Custom Cursor (PC)</li>
                    <li>Fixed an issue where Messa would sometimes be named Daddy</li>
                    <li>Tried to fix an issue where rarely (as reported) the background would be kawakami in a swimsuit</li>
                    <li>No comment... - F</li>
                </ul>
            </div>


            <div class="patch-entry">
                <h3 class="patch-version">1.0.4</h3>
                <p class="patch-date"> — 6/13/2025 6:45 PM</p>
                <ul class="patch-list">
                    <li>Added collapsable title menu</li>
                    <li>Updated and moved server and patch buttons</li>
                    <li>Added a search bar with suggestions</li>
                    <li>Updated character display modal to filter by search results</li>
                    <li>He still didn't fix the text going off the page! LMFAO - F</li>
                </ul>
            </div>

            <div class="patch-entry">
                <h3 class="patch-version">1.0.3</h3>
                <p class="patch-date"> — 6/13/2025 1:45 PM</p>
                <ul class="patch-list">
                    <li>Added Yukari Takeba</li>
                    <li>Added mobile support for scaling and touch responsiveness</li>
                    <li>Updated character portraits and info graphics</li>
                    <li>Improved modal animations and transitions</li>
                    <li>He's still too lazy to fix the text going off the page! LOL - F</li>
                </ul>
            </div>
            
            <div class="patch-entry">
                <h3 class="patch-version">1.0.2</h3>
                <p class="patch-date"> — 6/5/2025 6:18 AM</p>
                <ul class="patch-list">
                    <li>Added Makoto Yuki</li>
                    <li>Fixed image loading issues</li>
                    <li>Added this patch menu</li>
                    <li>Nobody can keep the oracle out! - F</li>
                </ul>
            </div>
            
            <div class="patch-entry">
                <h3 class="patch-version">1.0.1</h3>
                <p class="patch-date"> — 5/30/2025 1:40 PM</p>
                <ul class="patch-list">
                    <li>There is no Version 1.0.0 in Ba Sing Se</li>
                    <li>Added a cool animated background</li>
                    <li>Added all current characters as of this date</li>
                    <li>Implemented character info modals</li>
                    <li>Added image zoom functionality</li>
                    <li>Added safeguards in case futaba breaks in</li>
                </ul>
            </div>
        </div>
    </div>
</div>
    <script>
	let currentCharacterData = null;
	let currentGlobalFilter = 'global';
const charactersData = {
<!-- You don't even wanna know how long this took.....no automation, all hand typed. My poor fingers....ok, I used SOME CTRL+V -->
    "morgana": {
        "name": "Morgana (Mona)",
        "portrait": "https://cdn.imgchest.com/files/7kzcape3wz7.png",
        "regions": {
            "global": {
                "quote": "\n『DESIGN: Najox』\n『TRANSLATION: RedHarv, Taicon』",
                "info": {
                    "build": "https://cdn.imgchest.com/files/7kzcanzxrw7.png",
                    "mental image": "https://cdn.imgchest.com/files/7ogcbvex9xy.png"
                }
            },
            "asia": {
                "quote": "『DESIGN』 Najox\n『DATA』 RedHarv\n『ASSETS』 pseidn",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/pyvdcmawkky.png",
                    "awareness": "https://cdn.imgchest.com/files/6yxkc8bzw67.png",
                    "weapons/revelations/teams": "https://cdn.imgchest.com/files/yq9c3635vo4.png",
                    "mental image": "https://cdn.imgchest.com/files/y8xcnpnlk94.png"
                }
            }
        }
    },
    "sepia": {
        "name": "Toshiya Sumi (Sepia)",
        "portrait": "https://cdn.imgchest.com/files/7ogcba8nwmy.png",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 Najox\n『TRANSLATIONS』 RedHarv, Taicon\n『VALUES』 UnnamedRando",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/pyq9c9d3j84.png",
                    "awareness": "https://cdn.imgchest.com/files/myd5c6qewj4.png",
                    "weapons": "https://cdn.imgchest.com/files/3yrgc2rnq34.png",
                    "teams": "https://cdn.imgchest.com/files/j7mmcpo9b87.png"
                }
            }
        }
    },
    "soy": {
        "name": "Shun Kanou (Soy)",
        "portrait": "https://cdn.imgchest.com/files/7pjcqnxod27.png",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 Najox\n『TRANSLATIONS』 Altergeist, TooCynical, Ilulu",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/j7mmcpoowk7.png",
                    "awareness": "https://cdn.imgchest.com/files/e4gdcqddwd4.png",
                    "weapons": "https://cdn.imgchest.com/files/my8xcoeevx4.png",
                    "teams": "https://cdn.imgchest.com/files/84apca66qd4.png"
                }
            }
        }
    },
    "summer_moko": {
        "name": "Tomoko Noge (SUMMER Moko)",
        "portrait": "https://cdn.imgchest.com/files/7bwck6goee7.png",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 Najox\n『TRANSLATIONS』 RedHarv, Taicon\n『VALUES』 UnnamedRando",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/345xcx6zop7.png",
                    "awareness": "https://cdn.imgchest.com/files/pyvdcmarlvy.png",
                    "weapons": "https://cdn.imgchest.com/files/b49zcdma5oy.png",
                    "teams": "https://cdn.imgchest.com/files/w7pjcgzaek7.png"
                }
            }
        }
    },
    "summer_closer": {
        "name": "Motoha Arai (Closer SUMMER)",
        "portrait": "https://cdn.imgchest.com/files/4nec8zwvnl4.png",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 Najox\n『TRANSLATIONS』 RedHarv, Taicon\n『VALUES』 UnnamedRando",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/l4necdgoep4.png",
                    "awareness": "https://cdn.imgchest.com/files/w7pjcgzmal7.png",
                    "weapons": "https://cdn.imgchest.com/files/p7bwc5aj9l7.png",
                    "teams": "https://cdn.imgchest.com/files/j7kzcqd8vr7.png"
                }
            }
        }
    },
    "closer": {
        "name": "Motoha Arai (Closer)",
        "portrait": "https://cdn.imgchest.com/files/7kzcag39eg7.png",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 Najox, Tenacity\n『TRANSLATIONS』 RedHarv, Taicon\n『ASSETS』Najox, pseidn \n『VALUES』 UnnamedRando",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/7ogcbjnr8qy.png",
                    "awareness": "https://cdn.imgchest.com/files/7bwck8o3gg7.png",
                    "teams/weapons": "https://cdn.imgchest.com/files/4nec82vbwo4.png",
                    "mental image/skill priority": "https://cdn.imgchest.com/files/4z9cvdvjq27.png"
                }
            }
        }
    },
    "puppet": {
        "name": "Miyu Sahara (Puppet)",
        "portrait": "https://cdn.imgchest.com/files/49zc2ngo9by.png",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 Najox\n『TRANSLATIONS』 Altergeist, TooCynical, Ilulu",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/w7pjcgzmml7.png",
                    "awareness": "https://cdn.imgchest.com/files/d7ogcogppoy.png",
                    "weapons": "https://cdn.imgchest.com/files/my2pcv2aab7.png",
                    "teams": "https://cdn.imgchest.com/files/l7lxc8e33o7.png"
                }
            }
        }
    },
    "phoebe": {
        "name": "Yumi Shiina (Phoebe)",
        "portrait": "https://cdn.imgchest.com/files/yxkczpjok27.png",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 Najox\n『TRANSLATIONS』 RedHarv, Taicon\n『VALUES』 UnnamedRando",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/84jdc5kz2w4.png",
                    "awareness": "https://cdn.imgchest.com/files/pyq9c9dabb4.png",
                    "weapons": "https://cdn.imgchest.com/files/myd5c6q39x4.png",
                    "teams": "https://cdn.imgchest.com/files/739cx3xb5d7.png"
                }
            }
        }
    },
    "wind": {
        "name": "Riko Tanemura (Wind)",
        "portrait": "https://cdn.imgchest.com/files/yvdcwxbogoy.png",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 Najox\n『TRANSLATIONS』 RedHarv, Taicon\n『VALUES』 UnnamedRando",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/myd5c6q3xx4.png",
                    "awareness": "https://cdn.imgchest.com/files/3yrgc2r5wv4.png",
                    "weapons": "https://cdn.imgchest.com/files/j7mmcpoglv7.png",
                    "revelations": "https://cdn.imgchest.com/files/k739cve5ow7.png",
                    "teams": "https://cdn.imgchest.com/files/w7w6cdbngoy.png"
                }
            }
        }
    },
    "chord": {
        "name": "Ayaka Sakai (Chord)",
        "portrait": "https://cdn.imgchest.com/files/46acqlae3w7.png",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 Najox\n『TRANSLATIONS』 RedHarv, Taicon\n『VALUES』UnnamedRando",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/my2pcv2azp7.png",
                    "awareness": "https://cdn.imgchest.com/files/7bwckbk3oz7.png",
                    "revelations/teams/weapons": "https://cdn.imgchest.com/files/7pjcq6qbov7.png",
                    "mental image": "https://cdn.imgchest.com/files/4nec858bvq4.png"
                }
            }
        }
    },
    "queen": {
        "name": "Makoto Niijima (Queen)",
        "portrait": "https://cdn.imgchest.com/files/4apc59dowg4.png",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 Najox\n『TRANSLATIONS』 Altergeist, TooCynical, Ilulu",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/g4z9c5e3ob7.png",
                    "awareness": "https://cdn.imgchest.com/files/e4gdcqd95g4.png",
                    "weapons": "https://cdn.imgchest.com/files/my8xcoeg3o4.png",
                    "teams": "https://cdn.imgchest.com/files/345xcx6mdo7.png"
                }
            }
        }
    },
    "vino": {
        "name": "Chizuko Nagao (Vino)",
        "portrait": "https://cdn.imgchest.com/files/45xcvakwqn7.png",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 Najox, Tenacity\n『TRANSLATIONS』RedHarv, Altergeist, TooCynical, Ilulu\n『ASSETS』Najox, pseidn",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/k46acxnvkm7.png",
                    "awareness": "https://cdn.imgchest.com/files/pyvdcma9pxy.png",
                    "revelations/weapons": "https://cdn.imgchest.com/files/6yxkc8bxaz7.png",
                    "teams": "https://cdn.imgchest.com/files/b49zcdmkxmy.png",
                    "mental image/skill priority": "https://cdn.imgchest.com/files/yxkcz2zvke7.png"
                }
            }
        }
    },
    "okyann": {
        "name": "Kayo Tomiyama (Okyann)",
        "portrait": "https://cdn.imgchest.com/files/y8xcnal82w4.png",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 Najox\n『TRANSLATIONS』 Altergeist, TooCynical, Ilulu",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/w7pjcgzmox7.png",
                    "awareness": "https://cdn.imgchest.com/files/d7ogcogpnry.png",
                    "revelations/weapons": "https://cdn.imgchest.com/files/j7kzcqd83o7.png",
                    "teams": "https://cdn.imgchest.com/files/my2pcv2arn7.png"
                }
            }
        }
    },
    "joker": {
        "name": "Ren Amamiya (Joker)",
        "portrait": "https://cdn.imgchest.com/files/4gdcx3vrow4.png",
        "regions": {
            "global": {
                "quote": "\n『DESIGN: Najox』\n『ASSETS: pseidn』\n『VALUES: RedHarv』",
                "info": {
                    "build": "https://cdn.imgchest.com/files/ye3c2bzgn24.png",
                    "mental image": "https://cdn.imgchest.com/files/739cx3akld7.png"
                }
            },
            "asia": {
                "quote": "\n『DESIGN: Najox』\n『TRANSLATIONS: RedHarv and Taicon』\n『VALUES: UnnamedRando』",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/3yrgc2r5oz4.png",
                    "awareness": "https://cdn.imgchest.com/files/j7mmcpog8n7.png",
                    "revelations/weapons": "https://cdn.imgchest.com/files/k739cve5mg7.png",
                    "teams": "https://cdn.imgchest.com/files/w7w6cdbno3y.png"
                }
            }
        }
    },
    "messa": {
        "name": "Kira Kitazato (Messa)",
        "portrait": "https://cdn.imgchest.com/files/4z9cvq8xk87.png",
        "status": "outdated",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 Najox\n『TRANSLATIONS』 RedHarv, Taicon\n『VALUES』 UnnamedRando",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/345xcx6dgr7.png",
                    "awareness": "https://cdn.imgchest.com/files/84apca6gkj4.png",
                    "revelations/weapons": "https://cdn.imgchest.com/files/k46acxnk5r7.png",
                    "teams": "https://cdn.imgchest.com/files/pyvdcmavemy.png"
                }
            }
        }
    },
    "rin": {
        "name": "Yaoling Li (Rin)",
        "portrait": "https://cdn.imgchest.com/files/ye3c2vp38o4.png",
        "regions": {
            "global": {
                "quote": "\n『DESIGN: Najox』\n『ASSETS: pseidn』\n『VALUES: RedHarv』",
                "info": {
                    "build": "https://cdn.imgchest.com/files/7lxcp6kxmq7.png",
                    "mental image": "https://cdn.imgchest.com/files/y2pck6j5we7.png"
                }
            },
            "asia": {
                "quote": "『DESIGN』 Tenacity\n『TRANSLATIONS』 P5X WorldWide Discord",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/l7lxc8en2g7.png",
                    "awareness": "https://cdn.imgchest.com/files/84jdc5kn924.png",
                    "revelations/weapons": "https://cdn.imgchest.com/files/pyq9c9dgnp4.png",
                    "teams": "https://cdn.imgchest.com/files/pyq9c9dgnp4.png"
                }
            }
        }
    },
    "key": {
        "name": "Kiyoshi Kurotani (Key)",
        "portrait": "https://cdn.imgchest.com/files/7w6c29mozey.png",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 pseidn\n『ASSETS』 pseidn, Najox\n『TRANSLATIONS』 RedHarv, pseidn\n『VALUES』 UnnamedRando",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/l7lxc8enxl7.png",
                    "awareness": "https://cdn.imgchest.com/files/k739cve9kj7.png",
                    "revelations/weapons": "https://cdn.imgchest.com/files/g4z9c5eo9g7.png",
                    "teams": "https://cdn.imgchest.com/files/84apca6gmg4.png"
                }
            }
        }
    },
    "leon": {
        "name": "Reo Kamiyama (Leon)",
        "portrait": "https://cdn.imgchest.com/files/739cxznmge7.png",
        "regions": {
            "global": {
                "quote": "\n『DESIGN: Najox』\n『TRANSLATION: RedHarv, Taicon』\n『LAST UPDATED: 23/06/2025』",
                "info": {
                    "build": "https://cdn.imgchest.com/files/7bwckbl2rb7.png",
                    "mental image": "https://cdn.imgchest.com/files/49zc2zrv5xy.png"
                }
            },
            "asia": {
                "quote": "『DESIGN』 pseidn\n『ASSETS』 pseidn, Najox\n『TRANSLATIONS』 RedHarv\n『VALUES』 shmucky",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/my8xcoemep4.png",
                    "awareness": "https://cdn.imgchest.com/files/345xcx63697.png",
                    "revelations/weapons": "https://cdn.imgchest.com/files/84apca6x6v4.png",
                    "teams": "https://cdn.imgchest.com/files/6yxkc8bab67.png"
                }
            }
        }
    },
    "bui": {
        "name": "Yui (Bui)",
        "portrait": "https://cdn.imgchest.com/files/yrgcnxkoax4.png",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 pseidn\n『ASSETS』 pseidn, Najox\n『TRANSLATIONS』 RedHarv\n『VALUES』 RedHarv",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/myd5c6qpoj4.png",
                    "awareness": "https://cdn.imgchest.com/files/myd5c6qpom4.png",
                    "revelations/weapons": "https://cdn.imgchest.com/files/k739cvew827.png",
                    "teams": "https://cdn.imgchest.com/files/wye3cmr6le4.png"
                }
            }
        }
    },
    "panther": {
        "name": "Ann Takamaki (Panther)",
        "portrait": "https://cdn.imgchest.com/files/yd5ce5zlmd4.png",
        "regions": {
            "global": {
                "quote": "\n『DESIGN: Najox』\n『TRANSLATION: RedHarv, Taicon』\n『LAST UPDATED: 23/06/2025』",
                "info": {
                    "build": "https://cdn.imgchest.com/files/yd5cebnmv64.png",
                    "mental image": "https://cdn.imgchest.com/files/yq9c36xvrj4.png",
                }
            },
            "asia": {
                "quote": "『DESIGN』 pseidn\n『ASSETS』 pseidn, Najox\n『TRANSLATIONS』 RedHarv\n『VALUES』 shmucky, klaus, NPC",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/my8xcoemqx4.png",
                    "awareness": "https://cdn.imgchest.com/files/345xcx638m7.png",
                    "revelations/weapons": "https://cdn.imgchest.com/files/84apca6xvd4.png",
                    "teams": "https://cdn.imgchest.com/files/k46acxnwg87.png"
                }
            }
        }
    },
    "riddle": {
        "name": "Haruna Nishimori (Riddle)",
        "portrait": "https://cdn.imgchest.com/files/yq9c3k5nvq4.png",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 pseidn\n『ASSETS』 pseidn, Najox\n『TRANSLATIONS』 RedHarv, Taicon\n『VALUES』 Mio",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/e4gdcqdekl4.png",
                    "awareness": "https://cdn.imgchest.com/files/345xcx63ld7.png",
                    "revelations/weapons": "https://cdn.imgchest.com/files/pyvdcmapj6y.png",
                    "teams": "https://cdn.imgchest.com/files/b49zcdmxrvy.png"
                }
            }
        }
    },
    "skull": {
        "name": "Ryuji Sakamoto (Skull)",
        "portrait": "https://cdn.imgchest.com/files/4gdcx3vrjw4.png",
        "regions": {
            "global": {
                "quote": "\n『DESIGN: Najox』\n『TRANSLATION: RedHarv, Taicon』\n『LAST UPDATED: 23/06/2025』",
                "info": {
                    "build": "https://cdn.imgchest.com/files/7mmc952nkx7.png",
                    "mental image": "https://cdn.imgchest.com/files/yrgcn6m9ll4.png"
                }
            },
            "asia": {
                "quote": "『DESIGN』 pseidn\n『ASSETS』 pseidn, Najox\n『TRANSLATIONS』 RedHarv, Taicon\n『VALUES』 Najox, shmucky",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/pyvdcmapq5y.png",
                    "awareness": "https://cdn.imgchest.com/files/b49zcdmxljy.png",
                    "revelations/weapons": "https://cdn.imgchest.com/files/w7pjcgzrjj7.png",
                    "teams": "https://cdn.imgchest.com/files/j7kzcqd2mp7.png"
                }
            }
        }
    },
    "marian": {
        "name": "Minami Miyashita (Marian)",
        "portrait": "https://cdn.imgchest.com/files/4z9cvq8xz87.png",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 pseidn\n『ASSETS』 pseidn, Najox\n『TRANSLATIONS』 RedHarv",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/7mmc9awqe37.png",
                    "awareness": "https://cdn.imgchest.com/files/yrgcnxkbe94.png",
                    "revelations/weapons": "https://cdn.imgchest.com/files/yd5ce5z9dr4.png",
                    "teams": "https://cdn.imgchest.com/files/yq9c3k5bo64.png"
                }
            }
        }
    },
    "mont": {
        "name": "Kotone Montagne (Mont)",
        "portrait": "https://cdn.imgchest.com/files/ye3c2vp3qo4.png",
        "regions": {
            "global": {
                "quote": "\n『DESIGN: Najox』\n『TRANSLATION: RedHarv, Taicon』",
                "info": {
                    "build": "https://cdn.imgchest.com/files/yxkcz25qlr7.png",
                    "mental image": "https://cdn.imgchest.com/files/yvdcw6jnl8y.png"
                }
            },
			
            "asia": {
                "quote": "『DESIGN』 Najox\n『TRANSLATIONS』 Altergeist, TooCynical, Ilulu",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/k46acxne9n7.png",
                    "awareness": "https://cdn.imgchest.com/files/6yxkc8bodx7.png",
                    "revelations/weapons": "https://cdn.imgchest.com/files/l4necdgv2b4.png",
                    "teams": "https://cdn.imgchest.com/files/w7pjcgzo997.png"
                }
            }
        }
    },
    "fox": {
        "name": "Yusuke Kitagawa (Fox)",
        "portrait": "https://cdn.imgchest.com/files/7w6c29mo3ey.png",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 Najox\n『TRANSLATIONS』 Altergeist, TooCynical, Ilulu",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/84jdc5k9bo4.png",
                    "awareness": "https://cdn.imgchest.com/files/pyq9c9dn6j4.png",
                    "revelations/weapons": "https://cdn.imgchest.com/files/myd5c6qlb64.png",
                    "teams": "https://cdn.imgchest.com/files/3yrgc2ro6l4.png"
                }
            }
        }
    },
    "oracle": {
        "name": "Futaba Sakura (Oracle/Navi)",
        "portrait": "https://cdn.imgchest.com/files/739cxznmje7.png",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 Tenacity\n『ASSETS』 Najox, pseidn, Vesk\n『TRANSLATIONS』 RedHarv, Taicon\n『VALUES』 UnnamedRando",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/4jdcvxzagr4.png",
                    "awareness": "https://cdn.imgchest.com/files/7lxcpa3v9j7.png",
                    "revelations/teams/weapons": "https://cdn.imgchest.com/files/y2pckqamp97.png"
                }
            }
        }
    },
    "cherish": {
        "name": "Masaki Ashiya (Cherish)",
        "portrait": "https://cdn.imgchest.com/files/7mmc9aw8697.png",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 Najox\n『TRANSLATIONS』 RedHarv, Taicon\n『VALUES』 UnnamedRando",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/7lxcpa3v3j7.png",
                    "awareness": "https://cdn.imgchest.com/files/y2pckqama97.png",
                    "revelations/weapons": "https://cdn.imgchest.com/files/7kzcap86887.png",
                    "teams": "https://cdn.imgchest.com/files/7kzcap86887.png"
                }
            }
        }
    },
    "fleuret": {
        "name": "Seiji Shiratori (Fleuret)",
        "portrait": "https://cdn.imgchest.com/files/yrgcnxkojx4.png",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 pseidn\n『ASSETS』 pseidn, Najox\n『TRANSLATIONS』 RedHarv, pseidn\n『VALUES』 iant",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/46acqlvrvx7.png",
                    "awareness": "https://cdn.imgchest.com/files/4apc59lrlr4.png",
                    "revelations/weapons": "https://cdn.imgchest.com/files/45xcvambml7.png",
                    "teams": "https://cdn.imgchest.com/files/y8xcnagzgj4.png"
                }
            }
        }
    },
    "noir": {
        "name": "Haru Okumura (Noir)",
        "portrait": "https://cdn.imgchest.com/files/yd5ce5zlgd4.png",
        "status": "outdated",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 pseidn\n『ASSETS』 pseidn, Najox\n『TRANSLATIONS』 RedHarv, pseidn\n『VALUES』 iant",
                "info": {
                    "skills 1": "https://cdn.imgchest.com/files/ye3c2voepe4.png",
                    "skills 2": "https://cdn.imgchest.com/files/4z9cvq3g857.png",
                    "awareness 1": "https://cdn.imgchest.com/files/739cxz5qn27.png",
                    "awareness 2": "https://cdn.imgchest.com/files/7w6c29nkmjy.png",
                    "revelations/weapons": "https://cdn.imgchest.com/files/7mmc9agbw67.png",
                    "teams": "https://cdn.imgchest.com/files/4gdcx39gvb4.png",
                    "mental image": "https://cdn.imgchest.com/files/y8xcnagzl64.png",
                    "build strategy": "https://cdn.imgchest.com/files/45xcvambkj7.png"
                }
            }
        }
    },
    "howler": {
        "name": "Runa Dogenzaka (Howler)",
        "portrait": "https://cdn.imgchest.com/files/yq9c3k5n2q4.png",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 Najox\n『TRANSLATIONS』 RedHarv, Taicon\n『VALUES』 UnnamedRando",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/4z9cvq3gak7.png",
                    "awareness": "https://cdn.imgchest.com/files/ye3c2voexg4.png",
                    "revelations/teams/weapons": "https://cdn.imgchest.com/files/7w6c29nkevy.png",
                    "mental image": "https://cdn.imgchest.com/files/739cxz5qp37.png"
                }
            }
        }
    },
    "violet": {
        "name": "Kasumi Yoshizawa (Violet)",
        "portrait": "https://cdn.imgchest.com/files/yq9c3k95oo4.png",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 Najox\n『TRANSLATIONS』 RedHarv, Taicon\n『VALUES』 UnnamedRando",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/4jdcvx5wqp4.png",
                    "awareness": "https://cdn.imgchest.com/files/7lxcpa8gom7.png",
                    "revelations/teams/weapons": "https://cdn.imgchest.com/files/7kzcapqem67.png",
                    "mental image": "https://cdn.imgchest.com/files/y2pckqv98v7.png"
                }
            }
        }
    },
    "windvast": {
        "name": "Riko Tanemura (Wind: Vast)",
        "portrait": "https://cdn.imgchest.com/files/7bwckao9xe7.png",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 Tenacity\n『TRANSLATIONS』 RedHarv\n『ASSETS』 Najox2314, pseidn",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/4nec8gvekl4.png",
                    "awareness": "https://cdn.imgchest.com/files/49zc2moawby.png",
                    "teams/weapons": "https://cdn.imgchest.com/files/yxkczbonr27.png",
                    "mental image/skill priority": "https://cdn.imgchest.com/files/yxkcz2zvjr7.png"
                }
            }
        }
    },
    "matoi": {
        "name": "Mio Natsukawa (Matoi)",
        "portrait": "https://cdn.imgchest.com/files/ye3c2jodrn4.png",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 Najox\n『TRANSLATIONS』 RedHarv, Taicon\n『VALUES』 UnnamedRando",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/4nec8jome24.png",
                    "awareness": "https://cdn.imgchest.com/files/yxkczmxgnv7.png",
                    "extra": "https://cdn.imgchest.com/files/49zc2pkbapy.png",
                    "teams/weapons": "https://cdn.imgchest.com/files/yvdcwe9drby.png",
                    "mental image": "https://cdn.imgchest.com/files/46acq5vbov7.png"
                }
            }
        }
    },
    "crow": {
        "name": "Akechi Goro (Crow)",
        "portrait": "https://cdn.imgchest.com/files/7w6c2gnvb8y.png",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 Najox\n『TRANSLATIONS』 RedHarv, Taicon\n『VALUES』 UnnamedRando",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/4apc5kl3zz4.png",
                    "awareness": "https://cdn.imgchest.com/files/y8xcnwgkxn4.png",
                    "extra": "https://cdn.imgchest.com/files/45xcvgm9z67.png",
                    "teams/weapons": "https://cdn.imgchest.com/files/4z9cvn3wel7.png",
                    "mental image": "https://cdn.imgchest.com/files/4gdcxl9p234.png"
                }
            }
        }
    },
    "turbo": {
        "name": "Mayumi Hashimoto (Turbo)",
        "portrait": "https://cdn.imgchest.com/files/739cxo56ev7.png",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 Najox\n『TRANSLATIONS』 RedHarv, Taicon\n『VALUES』 UnnamedRando",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/7mmc9lgrob7.png",
                    "awareness 1": "https://cdn.imgchest.com/files/yrgcnw5zrm4.png",
                    "awareness 2": "https://cdn.imgchest.com/files/yd5cex3rq84.png",
                    "teams/weapons": "https://cdn.imgchest.com/files/yq9c3paedl4.png",
                    "mental image": "https://cdn.imgchest.com/files/4jdcvrzjk34.png"
                }
            }
        }
    },
    "ange": {
        "name": "Manaka Nagao (Ange)",
        "portrait": "https://cdn.imgchest.com/files/y2pckxao2o7.png",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 Najox\n『TRANSLATIONS』 RedHarv, Taicon\n『VALUES』 UnnamedRando",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/7kzcao8bdn7.png",
                    "awareness": "https://cdn.imgchest.com/files/7ogcbqpkgny.png",
                    "teams/weapons": "https://cdn.imgchest.com/files/7pjcq8mwzr7.png",
                    "mental image": "https://cdn.imgchest.com/files/7bwckvjdax7.png"
                }
            }
        }
    },
    "mont_figure_skater": {
        "name": "Kotone Montagne (Mont Figure Skater)",
        "portrait": "https://cdn.imgchest.com/files/45xcvgm9667.png",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 Najox\n『TRANSLATIONS』 RedHarv, Taicon\n『VALUES』 UnnamedRando",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/49zc2pkbmpy.png",
                    "awareness": "https://cdn.imgchest.com/files/yvdcwe9daby.png",
                    "teams/weapons": "https://cdn.imgchest.com/files/46acq5vbnv7.png",
                    "mental image": "https://cdn.imgchest.com/files/4apc5kl36z4.png"
                }
            }
        }
    },
    "luce": {
        "name": "Shoki Ikenami (Luce)",
        "portrait": "https://cdn.imgchest.com/files/y8xcnwgken4.png",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 Najox\n『TRANSLATIONS』 RedHarv, Taicon\n『VALUES』 UnnamedRando",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/4gdcxl9pd34.png",
                    "awareness": "https://cdn.imgchest.com/files/4z9cvn3wvl7.png",
                    "teams/weapons": "https://cdn.imgchest.com/files/ye3c2jod2n4.png",
                    "mental image": "https://cdn.imgchest.com/files/7w6c2gnv28y.png"
                }
            }
        }
    },
    "cattle": {
        "name": "Lufe (Cattle)",
        "portrait": "https://cdn.imgchest.com/files/yvdcw8ozwmy.png",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 Tenacity\n『TRANSLATIONS』 RedHarv\n『ASSETS』 Najox2314, Pseidn",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/4apc5noq5j4.png",
                    "awareness": "https://cdn.imgchest.com/files/45xcvnwpvr7.png",
                    "weapons/teams": "https://cdn.imgchest.com/files/y8xcn98vn54.png"
                }
            }
        }
    },
    "yuki": {
        "name": "Yukimi Fujikawa (Yuki)",
        "portrait": "https://cdn.imgchest.com/files/4gdcx8rwlq4.png",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 Najox2314\n『TRANSLATIONS』 Altergeist,TooCynical,Ilulu",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/4z9cvmxjng7.png",
                    "awareness": "https://cdn.imgchest.com/files/ye3c2l3wjz4.png",
                    "weapons": "https://cdn.imgchest.com/files/739cx8mboj7.png",
                    "teams": "https://cdn.imgchest.com/files/7mmc9m8ql37.png"
                }
            }
        }
    },
    "makoto": {
        "name": "Makoto Yuki (Makoto)",
        "portrait": "https://cdn.imgchest.com/files/7lxcpz2jnr7.png",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 Pseidn\n『TRANSLATIONS』 RedHarv\n『ASSETS』 Najox2314",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/4nec82vbkk4.png",
                    "awareness 1": "https://cdn.imgchest.com/files/7bwck8o3xw7.png",
                    "awareness 2": "https://cdn.imgchest.com/files/7pjcq9ob5o7.png",
                    "weapons": "https://cdn.imgchest.com/files/7ogcbjnr5vy.png",
                    "teams": "https://cdn.imgchest.com/files/y2pcknr3z57.png",
                    "mental image": "https://cdn.imgchest.com/files/7kzcag395b7.png"
                }
            }
        }
    },
    "yukari": {
        "name": "Yukari Takeba",
        "portrait": "https://cdn.imgchest.com/files/49zc2z2gn8y.png",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 Najox\n『ASSETS』 Najox2314\n『TRANSLATION』 RedHarv, Taicon",
                "info": {
                    "skills 1": "https://cdn.imgchest.com/files/yxkcz2zjp37.png",
                    "skills 2": "https://cdn.imgchest.com/files/yvdcw6wbxly.png",
                    "awareness": "https://cdn.imgchest.com/files/46acqzqalx7.png",
                    "teams/weapons": "https://cdn.imgchest.com/files/4apc5b5d9r4.png",
                    "mental image": "https://cdn.imgchest.com/files/45xcvevkal7.png"
                }
            }
        }
    },
    "akihiko": {
        "name": "⌌?̙A⌌?̙K⌏⌌?̙I⌏⌌H?̙⌏⌌I?̙⌏⌌K?̙O⌏",
        "portrait": "https://cdn.imgchest.com/files/y8xcnplrmv4.gif",
        "status": "comingsoon",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            }
        }
    },
    "rin_lion_dance": {
        "name": "Yaoling Li (Rin Lion Dance)",
        "portrait": "https://cdn.imgchest.com/files/y8xcnwgk254.png",
        "regions": {
            "global": {
                "quote": "Data for this Phantom Thief is not yet available on the Global server.",
                "info": {
                    "COMING SOON!": "https://cdn.imgchest.com/files/45xcvek5zz7.gif"
                }
            },
            "asia": {
                "quote": "『DESIGN』 Najox\n『TRANSLATIONS』 RedHarv, Taicon\n『VALUES』 UnnamedRando",
                "info": {
                    "skills": "https://cdn.imgchest.com/files/4gdcxl9poo4.png",
                    "awareness": "https://cdn.imgchest.com/files/ye3c2jod8d4.png",
                    "teams/weapons": "https://cdn.imgchest.com/files/7w6c2gnvzry.png",
                    "mental image": "https://cdn.imgchest.com/files/739cxo56gm7.png"
                }
            }
        }
    }
};


        
// REPLACE your existing Ligma with this function
function displayCharacters(filter = '') {
    const grid = document.getElementById('characterGrid');
    const lowerCaseFilter = filter.toLowerCase();


    let charactersToDisplay = Object.entries(charactersData);

    if (currentGlobalFilter === 'global') {
        charactersToDisplay = charactersToDisplay.filter(([key, character]) => {
            return character.regions &&
                   character.regions.global &&
                   character.regions.global.quote !== "Data for this Phantom Thief is not yet available on the Global server.";
        });
    }

    const filteredCharacters = charactersToDisplay.filter(([key, character]) =>
        character.name.toLowerCase().includes(lowerCaseFilter)
    );

    const sortedCharacters = filteredCharacters.sort((a, b) => a[1].name.localeCompare(b[1].name));
    
    grid.innerHTML = '';

    if (sortedCharacters.length === 0) {
        grid.innerHTML = `<p style="color: #ccc; grid-column: 1 / -1; text-align: center; font-size: 1.2rem;">No characters found.</p>`;
    } else {
        sortedCharacters.forEach(([key, character]) => {
            const card = document.createElement('div');
            card.className = 'character-card';

            if (character.status === 'comingsoon') {
                card.classList.add('coming-soon');
            }

            card.onclick = () => openModal(key, character);

            card.innerHTML = `
                <img src="${character.portrait}" alt="${character.name}" class="character-portrait" loading="lazy">
                <div class="character-overlay">
                    <div class="character-name">${character.name}</div>
                </div>
            `;
            grid.appendChild(card);
        });
    }
}



function openPatchNotes() {
    const modal = document.getElementById('patchNotesModal');
    modal.style.display = 'flex';
    setTimeout(() => modal.classList.add('show'), 10);
}

function closePatchNotes() {
    const modal = document.getElementById('patchNotesModal');
    modal.classList.remove('show');
    setTimeout(() => modal.style.display = 'none', 300);
}

// Oooooohhh....what does THIS button DOOOOOOOO????
document.getElementById('patchNotesBtn').onclick = openPatchNotes;
document.getElementById('closePatchNotesBtn').onclick = closePatchNotes;
document.getElementById('patchNotesModal').onclick = (e) => {
    if (e.target.id === 'patchNotesModal') closePatchNotes();
};

document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
        closeZoom();
        closeModal();
        closePatchNotes();
    }
});

// Now THIS was a doozy to make. It went through so many changes I barely recognize it, haha.
let comingSoonTimeout; // Seriously. It went through so many rewrites.

function buildCharacterTabs(character, region = null) {
    const tabsContainer = document.getElementById('tabsContainer');
    const tabContentContainer = document.getElementById('tabContentContainer');

    tabsContainer.innerHTML = '';
    tabContentContainer.innerHTML = '';

    const characterInfo = region ? character.regions[region].info : character.info;
    if (!characterInfo) return;

    const infoEntries = Object.entries(characterInfo);
    infoEntries.forEach(([tabName, imageUrl], index) => {
        const tab = document.createElement('button');
        tab.className = 'tab';
        tab.textContent = tabName;
        tab.onclick = () => switchTab(tabName);
        tabsContainer.appendChild(tab);

        const tabContent = document.createElement('div');
        tabContent.className = 'tab-content';
        tabContent.id = `tab-${tabName}`;

        const img = document.createElement('img');
        img.src = imageUrl;
        img.alt = `${character.name} - ${tabName}`;
        img.className = 'tab-image';
        img.loading = 'lazy';
        img.onclick = () => zoomImage(imageUrl, `${character.name} - ${tabName}`);

        tabContent.appendChild(img);
        tabContentContainer.appendChild(tabContent);
    });

    const firstTab = tabsContainer.querySelector('.tab');
    if (firstTab) firstTab.classList.add('active');
    const firstTabContent = tabContentContainer.querySelector('.tab-content');
    if (firstTabContent) firstTabContent.classList.add('active');
}



        function switchTab(activeTabName) {

            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.toggle('active', tab.textContent === activeTabName);
            });

            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.toggle('active', content.id === `tab-${activeTabName}`);
            });
        }

        function closeModal() {
            const modal = document.getElementById('characterModal');
            modal.classList.remove('show');
            setTimeout(() => modal.style.display = 'none', 300);
        }

        function zoomImage(imageUrl, altText) {
            const zoomOverlay = document.getElementById('imageZoomOverlay');
            const zoomedImage = document.getElementById('zoomedImage');
            
            zoomedImage.src = imageUrl;
            zoomedImage.alt = altText;
            
            zoomOverlay.style.display = 'flex';
            setTimeout(() => zoomOverlay.classList.add('show'), 10);
        }

        function closeZoom() {
            const zoomOverlay = document.getElementById('imageZoomOverlay');
            zoomOverlay.classList.remove('show');
            setTimeout(() => {
                zoomOverlay.style.display = 'none';
                document.getElementById('zoomedImage').src = '';
            }, 300);
        }

        // Event listener stuff
        document.getElementById('closeBtn').onclick = closeModal;
        document.getElementById('characterModal').onclick = (e) => {
            if (e.target.id === 'characterModal') closeModal();
        };

        // Keyboard support stuff
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeZoom();
                closeModal();
            }
        });

        // This broke SO MANY TIMES ITS NOT EVEN FUNNY AHHHHHHHHHHH....turns out I forgot a comma in json. yohohoho!
function openModal(characterKey, character) {
    currentCharacterData = character; // Store the full character data globally

    const modal = document.getElementById('characterModal');
    const modalTitle = document.getElementById('modalTitle');
    const regionSwitcher = document.getElementById('regionSwitcher');
    const comingSoonOverlay = document.getElementById('comingSoonOverlay');
	
    modalTitle.textContent = character.name;

    comingSoonOverlay.classList.remove('show');
	clearTimeout(comingSoonTimeout); // One of the other problems was not clearing the timer. Yeah....I do that. A lot.
	
    if (character.status === 'comingsoon') {
        comingSoonOverlay.classList.add('show');
        
        const hideComingSoon = () => {
            comingSoonOverlay.classList.remove('show');
            clearTimeout(comingSoonTimeout);
            comingSoonOverlay.removeEventListener('click', hideComingSoon); // That too. Wasn't removing the overlay before.
        };
        
        comingSoonOverlay.addEventListener('click', hideComingSoon);
        comingSoonTimeout = setTimeout(hideComingSoon, 5000); // But I did NOT forget this!
    }

    if (character.regions) {
        regionSwitcher.style.display = 'flex';
        
        if (currentGlobalFilter === 'global') {
            regionSwitcher.className = 'global-active';
            buildCharacterTabs(character, 'global');
            showCharacterNotification({ quote: character.regions.global.quote });
        } else {
            regionSwitcher.className = 'asia-active';
            buildCharacterTabs(character, 'asia');
            showCharacterNotification({ quote: character.regions.asia.quote });
        }

    } else {
        // Just some regional switcher logic, since global and SEA/Asia guides are going to be different.
        regionSwitcher.style.display = 'none';
        buildCharacterTabs(character);
        showCharacterNotification(character);
    }



    showOutdatedWarning(character);
    modal.style.display = 'flex';
    setTimeout(() => modal.classList.add('show'), 10);
}

        function switchTab(activeTabName) {

            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.toggle('active', tab.textContent === activeTabName);
            });

            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.toggle('active', content.id === `tab-${activeTabName}`);
            });
        }

        function closeModal() {
            const modal = document.getElementById('characterModal');
            modal.classList.remove('show');
            setTimeout(() => modal.style.display = 'none', 300);
        }

        function zoomImage(imageUrl, altText) {
            const zoomOverlay = document.getElementById('imageZoomOverlay');
            const zoomedImage = document.getElementById('zoomedImage');
            
            zoomedImage.src = imageUrl;
            zoomedImage.alt = altText;
            
            zoomOverlay.style.display = 'flex';
            setTimeout(() => zoomOverlay.classList.add('show'), 10);
        }

        function closeZoom() {
            const zoomOverlay = document.getElementById('imageZoomOverlay');
            zoomOverlay.classList.remove('show');
            setTimeout(() => {
                zoomOverlay.style.display = 'none';
                document.getElementById('zoomedImage').src = '';
            }, 300);
        }

        // Event listener stuff
        document.getElementById('closeBtn').onclick = closeModal;
        document.getElementById('characterModal').onclick = (e) => {
            if (e.target.id === 'characterModal') closeModal();
        };

        // Keyboard support stuff
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeZoom();
                closeModal();
            }
        });

        // This broke SO MANY TIMES ITS NOT EVEN FUNNY AHHHHHHHHHHH....turns out I forgot a comma in json. yohohoho!
document.addEventListener('DOMContentLoaded', function() {
// --- COLLAPSIBLE SIDEBAR LOGIC ---
const menuToggle = document.getElementById('menu-toggle');
const sidebar = document.getElementById('collapsible-sidebar');
const overlay = document.getElementById('main-overlay');

if (menuToggle && sidebar && overlay) {
    function toggleSidebar() {
        menuToggle.classList.toggle('open');
        sidebar.classList.toggle('open');
        overlay.classList.toggle('show');
        document.body.classList.toggle('sidebar-open');
    }

    menuToggle.addEventListener('click', toggleSidebar);
    overlay.addEventListener('click', toggleSidebar);
}

    console.log('DOM loaded, displaying characters...');
    displayCharacters();
    initMobileSupport();

    const zoomOverlay = document.getElementById('imageZoomOverlay');
    const zoomedImage = document.getElementById('zoomedImage');
    
    zoomOverlay.addEventListener('click', function(e) {
        if (e.target === zoomOverlay) closeZoom();
    });
    
    zoomedImage.addEventListener('click', function(e) {
        e.stopPropagation();
        closeZoom();
    });

    const searchInput = document.getElementById('searchInput');
    const suggestionsContainer = document.getElementById('suggestionsContainer');
    const searchButton = document.getElementById('searchButton');
	const clearSearchBtn = document.getElementById('clearSearchBtn');

    const performSearch = () => {
        const query = searchInput.value;
        displayCharacters(query);
        suggestionsContainer.style.display = 'none';
    };

	searchInput.addEventListener('input', () => {
    const query = searchInput.value;

    if (query.length > 0) {
        clearSearchBtn.style.display = 'block';
    } else {
        clearSearchBtn.style.display = 'none';
    }

    displayCharacters(query);
    updateSuggestions(query);
});

clearSearchBtn.addEventListener('click', () => {
    searchInput.value = ''; // Hey there, how's your day, evening, night, etc. going?
    displayCharacters('');  // While we're here, I just want to tell you that you matter.
    updateSuggestions(''); // Things might not be going the best right now, but...
    clearSearchBtn.style.display = 'none'; // Tomorrow is a new day. A new you. And things, will always get better.
    searchInput.focus(); // And I may not know your situation. But I do know. You're not alone. You're never alone.
}); // So if you ever feel like things are really bad, that you want to give up. Then don't. It's not too late!

    searchInput.addEventListener('keydown', (e) => {  // I've been through some very dark times, and I was able to pull myself out.
        if (e.key === 'Enter') { // And YOU can do it TOO! It's not over. In fact, It's just the beginning of something BETTER!
            performSearch(); // So reach out. To a friend. A family member. Anyone. Because you never have to go through this alone.
        } // And If this helped you even just a little, that's what matters to me. Because you matter. A lot. 
    }); // And I may not know your situation. But I do know. You're not alone. You're never alone.
    
    searchButton.addEventListener('click', performSearch); // So, please. Reach out. To me. To anyone. And we WILL grab your hand.

// Inside the DOMContentLoaded event listener...
const globalFilterBtn = document.getElementById('globalFilterBtn');

globalFilterBtn.addEventListener('click', () => {
    if (currentGlobalFilter === 'all') {
        currentGlobalFilter = 'global';
        globalFilterBtn.className = 'global-active';
    } else {
        currentGlobalFilter = 'all';
        globalFilterBtn.className = 'all-active';
    }
    // Re-render the character grid with the current search query and the new filter
    displayCharacters(document.getElementById('searchInput').value);
});

// Inside the DOMContentLoaded event listener...
const regionSwitcher = document.getElementById('regionSwitcher');
regionSwitcher.addEventListener('click', () => {
    if (!currentCharacterData || !currentCharacterData.regions) return;

    const isGlobal = regionSwitcher.classList.contains('global-active');
    if (isGlobal) {
        // Switch to Asia
        regionSwitcher.className = 'asia-active';
        buildCharacterTabs(currentCharacterData, 'asia');
        showCharacterNotification({ quote: currentCharacterData.regions.asia.quote });
    } else {
        // Switch back to Global
        regionSwitcher.className = 'global-active';
        buildCharacterTabs(currentCharacterData, 'global');
        showCharacterNotification({ quote: currentCharacterData.regions.global.quote });
    }
});

    function updateSuggestions(query) { // Now, get out there and find the hope you're looking for. I know you can do it!
        suggestionsContainer.innerHTML = '';
        if (query.length === 0) {
            suggestionsContainer.style.display = 'none';
            return;
        }

        const lowerCaseQuery = query.toLowerCase();
        const suggestions = Object.values(charactersData)
            .map(char => char.name)
            .filter(name => name.toLowerCase().includes(lowerCaseQuery) && name.toLowerCase() !== lowerCaseQuery)
            .sort((a,b) => a.localeCompare(b));

        if (suggestions.length > 0) {
            suggestions.slice(0, 10).forEach(name => {
                const suggestionItem = document.createElement('div');
                suggestionItem.className = 'suggestion-item';
                suggestionItem.textContent = name;
                suggestionItem.addEventListener('click', () => { // And we made it. Line 3000. We've come a long way. But so have you!
                    searchInput.value = name;
                    performSearch();
                });
                suggestionsContainer.appendChild(suggestionItem);
            });
            suggestionsContainer.style.display = 'block'; // I meant every single word of that, by the way.
        } else {
            suggestionsContainer.style.display = 'none'; // Have a good day, evening, night, whatever works for you. You got this.
        }
    }

    document.addEventListener('click', (e) => {
        if (!e.target.closest('.search-container')) {
            suggestionsContainer.style.display = 'none';
        }
    });
    
    const header = document.getElementById('mainHeader');
    const toggleHeaderBtn = document.getElementById('toggleHeaderBtn');

    if(header && toggleHeaderBtn) {
        toggleHeaderBtn.addEventListener('click', () => {
            document.body.classList.toggle('header-retracted');
            header.classList.toggle('retracted');
        });
    }
});




// Mobile Imrpovement Stuff (I used my phone a lot for testing)
function initMobileSupport() {
    const preventZoomElements = document.querySelectorAll('.tab, .close-btn, .patch-notes-btn, .character-card');
    
    preventZoomElements.forEach(element => {
        let lastTouchEnd = 0;
        element.addEventListener('touchend', function(event) {
            const now = (new Date()).getTime();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        }, {passive: false});
    });


const contextMenu = document.getElementById('customContextMenu');
let rightClickedElement = null;

// I never did fix this. I'm also too lazy to fix it. Why? Great question.
async function copyImageToClipboard(imageUrl) {
    try {
        const response = await fetch(imageUrl);
        const blob = await response.blob();
        await navigator.clipboard.write([
            new ClipboardItem({ [blob.type]: blob })
        ]);
        alert('Image copied to clipboard!');
    } catch (error) {
        console.error('Failed to copy image:', error);
        try {
            await navigator.clipboard.writeText(imageUrl);
            alert('Could not copy image directly, image URL copied instead!');
        } catch (urlError) {
            console.error('Failed to copy image URL:', urlError);
            alert('Failed to copy image and URL.');
        }
    }
}

// Overly convoluted image saving option, instead of just letting people use the regular context menu
async function saveImage(imageUrl) {
    try {
        const response = await fetch(imageUrl);
        const blob = await response.blob();
        const url = window.URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.style.display = 'none';
        a.href = url;
        const filename = imageUrl.split('/').pop() || 'download.png';
        a.download = filename;
        document.body.appendChild(a);
        a.click();
        window.URL.revokeObjectURL(url);
        document.body.removeChild(a);
    } catch (error) {
        console.error('Failed to save image directly:', error);
        window.open(imageUrl, '_blank');
    }
}


// --- I thought it would be cool to try and add a custom context menu with some socials and easter eggs. ---

document.addEventListener('contextmenu', (e) => {
    e.preventDefault();

    rightClickedElement = e.target;
    const isImage = rightClickedElement.tagName === 'IMG';
    
    contextMenu.innerHTML = '';
    const menuList = document.createElement('ul');
    menuList.className = 'context-menu-list';

    let menuItems = [];

    // Having the Inspect Menu open must be nice, huh?
    if (isImage) {
        menuItems.push(
            { type: 'item', label: 'Open Image in New Tab', icon: 'tab.svg', action: () => window.open(rightClickedElement.src, '_blank') },
            { type: 'item', label: 'Open Image Here', icon: 'open.svg', action: () => window.location.href = rightClickedElement.src },
            { type: 'item', label: 'Copy Image', icon: 'copy.svg', action: () => copyImageToClipboard(rightClickedElement.src) },
            { type: 'item', label: 'Save Image', icon: 'save.svg', action: () => saveImage(rightClickedElement.src) },
            { type: 'separator' }
        );
    }

    // Yes, I could have done better on this. No, I will not do better. I will do WORSE!
    menuItems.push(
        { type: 'item', label: 'Reload Page', icon: 'reload.svg', action: () => location.reload() },
        { type: 'separator' },
        { type: 'item', label: 'Join our Server!', icon: 'discord.svg', action: () => window.open('https://discord.gg/gachametaverse', '_blank') },
        { type: 'item', label: 'Follow me on YouTube!', icon: 'yt.svg', action: () => window.open('https://www.youtube.com/@mcburn_', '_blank') },
        { type: 'separator' },
        { type: 'item', label: 'View Page Source', icon: 'Source.svg', action: () => window.open('https://mcburnr.github.io/haha.html', '_blank') },
        { type: 'item', label: 'Inspect', icon: 'inspect.svg', action: () => window.open('https://mcburnr.github.io/haha.html', '_blank') }
    );

    menuItems.forEach(itemData => {
        if (itemData.type === 'item') {
            const li = document.createElement('li');
            li.className = 'context-menu-item';
            li.innerHTML = `<img src="${itemData.icon}" class="icon" alt=""><span>${itemData.label}</span>`;
            li.addEventListener('click', () => {
                itemData.action();
                contextMenu.classList.remove('active');
            });
            menuList.appendChild(li);
        } else if (itemData.type === 'separator') {
            const separator = document.createElement('div');
            separator.className = 'context-menu-separator';
            menuList.appendChild(separator);
        }
    });

    contextMenu.appendChild(menuList);

    const { clientX: mouseX, clientY: mouseY } = e;
    const { normalizedX, normalizedY } = normalizePozition(mouseX, mouseY);
    contextMenu.style.top = `${normalizedY}px`;
    contextMenu.style.left = `${normalizedX}px`;
    contextMenu.classList.add('active');
});

// Yes, this will go Open Source eventually. Just not now. It's a mess. Like, a bad mess. 
document.addEventListener('click', () => {
    contextMenu.classList.remove('active');
});

// But if you are reading this then maybe it's less of a mess! I hope.
function normalizePozition(mouseX, mouseY) {
    const { innerWidth: windowWidth, innerHeight: windowHeight } = window;
    const { offsetWidth: menuWidth, offsetHeight: menuHeight } = contextMenu;

    let normalizedX = mouseX;
    let normalizedY = mouseY;

    if (mouseX + menuWidth > windowWidth) {
        normalizedX = windowWidth - menuWidth - 10;
    }
    if (mouseY + menuHeight > windowHeight) {
        normalizedY = windowHeight - menuHeight - 10;
    }
    return { normalizedX, normalizedY };
}

    // Had to adjust it for mobile
    window.addEventListener('orientationchange', function() {
        setTimeout(() => {
            const modal = document.getElementById('characterModal');
            const patchModal = document.getElementById('patchNotesModal');
            if (modal.classList.contains('show') || patchModal.classList.contains('show')) {
                // You don't even wanna know how long this took to figure out
                document.body.style.height = window.innerHeight + 'px';
                setTimeout(() => {
                    document.body.style.height = '';
                }, 100);
            }
        }, 500);
    });
}

//=========================================================//
//        Your hopes ruined. It was not better. GG.        //
//=========================================================//


const themes = [
    { name: 'Joker Red', className: 'theme-red', color: '#ff0000', flavor: '>> Show me your true form!'},
    { name: 'Fox Blue', className: 'theme-blue', color: '#0055ff', flavor: '>> An aesthetic choice, indeed.'},
    { name: 'Oracle Green', className: 'theme-green', color: '#00ff00', flavor: '>> Key item get! Hacking into the mainframe...'},
    { name: 'Skull Yellow', className: 'theme-yellow', color: '#ffdd00', flavor: ">> For real?! This new look is awesome!"},
    { name: 'Panther Pink', className: 'theme-pink', color: '#ff5599', flavor: '>> A beautiful choice! It suits you.'},
    { name: 'Noir Purple', className: 'theme-purple', color: '#aa00ff', flavor: '>> How wonderful! A truly elegant palette.'}
];

const themeSwitcherContainer = document.getElementById('themeSwitcherContainer');
const body = document.body;
let notificationTimeout;

// --- This was fun to code. ---
// I plan on making more themes if the page becomes popular enough.
function applyTheme(themeClassName) {
    const htmlElement = document.documentElement;
    const bodyElement = document.body;

    themes.forEach(t => {
        htmlElement.classList.remove(t.className);
        bodyElement.classList.remove(t.className);
    });

    htmlElement.classList.add(themeClassName);
    bodyElement.classList.add(themeClassName);

    localStorage.setItem('p5x-user-theme', themeClassName);

    document.querySelectorAll('.theme-button').forEach(btn => {
        btn.classList.toggle('active', btn.dataset.theme === themeClassName);
    });
}

function showThemeNotification(theme) {
    const notificationBox = document.getElementById('themeNotification');
    const flavorTextElem = document.getElementById('notificationFlavorText');
    const mainTextElem = document.getElementById('notificationMainText');

    flavorTextElem.textContent = theme.flavor;
    mainTextElem.textContent = 'Switched theme to: ' + theme.name;
    notificationBox.classList.add('show');

    clearTimeout(notificationTimeout);
    notificationTimeout = setTimeout(() => {
        notificationBox.classList.remove('show');
    }, 3000); // Adjustable, obviously. I thought three seconds was enough to read most of the credits. What do you think?
}


themes.forEach(theme => {
    const button = document.createElement('div');
    button.className = 'theme-button';
    button.style.backgroundColor = theme.color;
    button.dataset.theme = theme.className;
    button.title = theme.name; // Tooltip on hover

    button.addEventListener('click', () => {
        applyTheme(theme.className);
        showThemeNotification(theme);
    });

    themeSwitcherContainer.appendChild(button);
});

// This just loads your saved theme from storage
const savedTheme = localStorage.getItem('p5x-user-theme') || 'theme-red';
applyTheme(savedTheme);


let characterNotificationTimeout;

// This has been updated so many times It's not even funny I'm serious It's a pain in the butt
function showCharacterNotification(character) {
    if (!character.quote) {
        return;
    }

    const notificationBox = document.getElementById('characterNotification');
    const notificationTextElem = document.getElementById('characterNotificationText');

    // --- If you are reading this I do appreciate you putting up with my flamboyant rambling! ---
    // This was a learning experience, like learning how to make a filter for plaintext quote json entries...fun! *sigh*
    // I could have used Gemini, Claude, ChatG-ok not that one, you get the point, but doing it yourself is a lot of fun.
	// Btw I have a great book on Regex if anyone wants that, just let me know!
    const formattedQuote = `"${character.quote.replace(/\n/g, '<br>')}"`;
    notificationTextElem.innerHTML = formattedQuote;

    notificationBox.classList.add('show');

    clearTimeout(characterNotificationTimeout);
    characterNotificationTimeout = setTimeout(() => {
        notificationBox.classList.remove('show');
    }, 3000);
}

let outdatedWarningTimeout;

function showOutdatedWarning(character) {
    const warningOverlay = document.getElementById('outdatedWarningOverlay');

    warningOverlay.classList.remove('show');
    clearTimeout(outdatedWarningTimeout);

    if (character.status === 'outdated') {
        warningOverlay.classList.add('show');

        outdatedWarningTimeout = setTimeout(() => {
            warningOverlay.classList.remove('show');
        }, 1250);
    }
}


//=========================================================//
//        HEY THERE DEVTOOLS FRIEND! Easter Egg Time!     //
//       I explain this more on this page right here:    //
//           https://mcburnr.github.io/haha.html        //
//=====================================================//
(function() {
    const redirectUrl = 'https://mcburnr.github.io/haha.html';
    const detectionThreshold = 160;

    let isRedirecting = false;

    function triggerRedirect() {
        if (isRedirecting) {
            return;
        }
        isRedirecting = true;
        console.log('%c! INTRUSION DETECTED !', 'color: #00ff00; font-size: 24px; font-weight: bold; font-family: monospace;');
        console.log('%c>> Whoa, trying to peek under the hood? Naughty, naughty! Let me just... fix that for you. Heh. <<', 'color: #00ff00; font-family: monospace;');
        window.location.href = redirectUrl;
    }

    setInterval(() => {
        const startTime = performance.now();
        debugger;
        const endTime = performance.now();
        if (endTime - startTime > detectionThreshold) {
            triggerRedirect();
        }
    }, 1000);


    const devtoolsTrapElement = document.createElement('div');
    Object.defineProperty(devtoolsTrapElement, 'id', {
        get: function() {
            triggerRedirect();
            return 'YOU-HAVE-BEEN-HACKED';
        }
    });

    setInterval(() => {
        console.log(devtoolsTrapElement);
        console.clear();
    }, 1500);

})();

    </script>
	
<div id="customContextMenu">
    <!-- I thought I did alright on the custom context menu. What do you think? ; ) -->
</div>


<div id="themeNotification">
    <div id="notificationFlavorText"></div>
    <div id="notificationMainText"></div>
</div>

<div id="characterNotification">
 <!-- 
 And....you made it to the end!
 Congratulations!
 You either scrolled down the entire thing and are now reading this message
 Or took the time to look throuhg this jungle of a source code
 Either way, my hats off to you!
 
 I'm not sure if anyone will ever read this, if it will ever go open source, or if someone breaks the simple obsfucation, but regardless...
 
I definitely will never know your struggles, what you go through, your current situation, or any of that, but I just want you to know:
											
											
													It's never worth giving up.
													And you have to go on. You must.
								     The suffering will make you feel like it will never get better.
										  But it will. It has to. And you WILL overcome this.
									 If this message reaches just one person, and helps them out.....
									 Then my life was worth living. And that's what matters to me.
												 Because you matter. You always have.
												 


 !-->
    <div id="characterNotificationText"></div>
</div>

</body>
</html>